<% include ../../header.html %>

<div id="content-wrapper" class="bg-light">
  <div class="font-weight-bold text-uppercase"></div>
  <div id="content" class="bg-white mt-2">
    <div id="app">
      <template>
        <div>
          <div class="mb-2" style="display:flex">
            <div v-if="backURL">
              <a class="btn btn-sm btn-secondary" :href="backURL">
                <i class="fas fa-fw fa-arrow-left"></i>Quay lại
              </a>
            </div>
            <div class="ml-3" style="display: flex;">
              <div style="display: inline-block; align-self: flex-end;">
                <b>Chi tiết hồ sơ bệnh án : {{ maHs }}</b>
              </div>
            </div>
          </div>

          <b-card no-body>
            <b-tabs content-class="mt-3" card vertical v-model="step">
              <b-tab title="Quản lý bệnh nhân">
                <qlybn v-if="step==0"></qlybn>
              </b-tab>
              <b-tab title="Y học hiện đại">
                <yhhd v-if="step==1"></yhhd>
              </b-tab>
              <b-tab title="Tổng kết bệnh án">
                <tkba v-if="step==2"></tkba>
              </b-tab>
              <b-tab title="Hình ảnh tổn thương">
                <hatt :hsba="hsba" v-if="step==3"></hatt>
              </b-tab>
              <b-tab title="Phẫu thuật thủ thuật">
                <pttt :hsba="hsba" v-if="step==4"></pttt>
              </b-tab>
              <b-tab title="Xét nghiệm">
                <xetnghiem :hsba="hsba" v-if="step==5"></xetnghiem>
              </b-tab>
              <b-tab title="Chẩn đoán hình ảnh">
                <cdha :hsba="hsba" v-if="step==6"></cdha>
              </b-tab>
              <b-tab title="Thăm dò chức năng">
                <tdcn :hsba="hsba" v-if="step==7"></tdcn>
              </b-tab>
              <b-tab title="Giải phẫu bệnh">
                <gpb :hsba="hsba" v-if="step==8"></gpb>
              </b-tab>
              <b-tab title="Hội chẩn">
                <hoichan :hsba="hsba" v-if="step==9"></hoichan>
              </b-tab>
              <b-tab title="Điều trị">
                <dieutri :hsba="hsba" v-if="step==10"></dieutri>
              </b-tab>
              <b-tab title="Chăm sóc">
                <chamsoc :hsba="hsba" v-if="step==11"></chamsoc>
              </b-tab>
              <b-tab title="Theo dõi chức năng sống">
                <chucnangsong :hsba="hsba" v-if="step==12"></chucnangsong>
              </b-tab>
              <b-tab title="Đơn thuốc">
                <donthuoc :hsba="hsba" v-if="step==13"></donthuoc>
              </b-tab>
              <b-tab title="Các giấy tờ đi kèm khác">
                <giayto :hsba="hsba" v-if="step==14"></giayto>
              </b-tab>
            </b-tabs>
          </b-card>
        </div>
      </template>
    </div>
  </div>
</div>

<script src="/pages/hsba/edit/qly_benhnhan/qlybn.js"></script>
<script src="/pages/hsba/edit/yhoc_hiendai/yhhd.js"></script>
<script src="/pages/hsba/edit/tongket_benh_an/tkba.js"></script>
<script src="/pages/hsba/edit/hinhanh_tonthuong/hatt.js"></script>
<script src="/pages/hsba/edit/phauthuat_thuthuat/pttt.js"></script>
<script src="/pages/hsba/edit/xetnghiem/xetnghiem.js"></script>
<script src="/pages/hsba/edit/chandoan_hinhanh/cdha.js"></script>
<script src="/pages/hsba/edit/thamdo_chucnang/tdcn.js"></script>
<script src="/pages/hsba/edit/giaiphau_benh/gpb.js"></script>
<script src="/pages/hsba/edit/hoichan/hoichan.js"></script>
<script src="/pages/hsba/edit/dieutri/dieutri.js"></script>
<script src="/pages/hsba/edit/chamsoc/chamsoc.js"></script>
<script src="/pages/hsba/edit/chucnangsong/chucnangsong.js"></script>
<script src="/pages/hsba/edit/donthuoc/donthuoc.js"></script>
<script src="/pages/hsba/edit/giayto/giayto.js"></script>

<script>
  new Vue({
    el: "#app",
    data: {
      step: 0,
      backURL: null,
      hsId: null,
      maHs: '',
    },

    props: ["hsba"],

    created: async function () {
      this.backURL = this.getParam("backURL");
      this.hsId = this.getParam("hs_id");
      this.hsba = await this.get('/api/hsba/get_hs', { hoso_id: this.hsId });
      this.maHs = this.hsba.mayte;
    }
  });
</script>

<% include ../../footer.html %>