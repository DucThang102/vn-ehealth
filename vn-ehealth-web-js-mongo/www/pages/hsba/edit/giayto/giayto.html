<div v-if="giayto_list" class="mt-3">
  <table class="table table-bordered">
    <tr>
      <th style="width:10%" class="text-center">STT</th>
      <th style="width:75%" class="text-center">Tên file</th>
      <th style="width:15%" class="text-center">Thao tác</th>
    </tr>
    <tr>
      <td class="text-center">1</td>
      <td><a href="#">File Dinh kem 1</a></td>
      <td class="text-center">
        <a href='#' title="Xem"><i class="fas fa-fw fa-lg fa-binoculars"></i></a>
        <a href='#' title="Xóa"><i class="fas fa-fw fa-lg fa-trash" style="color:red"></i></a>
      </td>
    </tr>
  </table>
  <div class="mt-3">
    <label class="label-title">Upload thêm file</label>
    <a href='#' title="Thêm" v-on:click="openUploadModal(hsba.id)" ><i class="fas fa-fw fa-lg fa-plus-circle"></i></a>
  </div>
  <table class="table">
    <tr>
      
      <th style="width:85%" class="text-center">File</th>
      <th style="width:15%" class="text-center">Thao tác</th>
    </tr>
    <tr>
      <td><input type="file" class="form-control-file"></td>
      <td class="text-center">
        <a href='#' title="Xóa" ><i class="fas fa-fw fa-lg fa-trash" style="color:red"></i></a>
      </td>
    </tr>
  </table>  
</div>
<div class="modal fade" id="csvUpload">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cập nhật giấy tờ:</h5>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id='fmt'>
          <input type="hidden" name="hsba_id" value="5dfb9310d98d0d1d88304992">
          Chọn file : <input type="file" multiple name="attached_files">
          <br><input type='button' v-on:click="upload()" value="Upload" >
        </form>
        <!--
        <form id='fmt'>
          <input type="hidden" v-model="hsbaId" name="hsba_id">
          Chọn file : <input type="file" id="csv_file" name="csv_file">
          <input type='button' v-on:click="upload()" value="Upload" >
        </form>
      -->
      </div>
    </div>
  </div>
</div>
<script>
  new Vue({
    'el': '#app',
    methods: {
      upload: async function() {
        var formData = new FormData(document.getElementById("fmt"));
        var response = await fetch('http://emr.com.vn:8001/api/hsba/add_giayto',
          { body: formData, method: 'POST' });
        var result = await response.json();
        alert(result.success);
        console.log(result);
      }
    }
  })
</script>
<!--

  
<script type="text/javascript">
  new Vue({
    el: "#app",
    data: {
      hsbaId: '',
    },
    methods: {
      openUploadModal: function(id) {
        this.hsbaId = id ;
        $('#csvUpload').modal();
      },
      upload: async function() {
      if(this.hsbaId != ''){
          var formData = new FormData(Document.getElementById("fmt"));
          var response = await fetch('http://erm.com.vn:8001/api/hsba/edit/add_giayto', {body: formData, method: 'POST'});
          var result = await response.json();
          alert(result.success);
          if(result.success) {
            $('#csv_file').val('');
            $('#csvUpload').modal('hide');
          }
          else {
            alert('Lỗi khi upload.');
          }
          }
      },
      getData: async function() {
          this.hsba_id = await this.get("/api/hsba/edit/giayto?hsba_Id=" + this.hsba_Id +"&keyword="+this.keyword+"&start=" + this.offset + "&count=");
        },
      created: async function () {
        this.hsba_id = this.getParam('hsba_id');
         }
     }
  })
</script>

http://emr.com.vn/pages/hsba/chinhsua_hsba?hsba_id=pages/hsba/hs_chua_xl/mayte/currentPage

-->