<div v-if="gpb" class="mt-3">
  <div class="row mt-3">
    <div class="col-4">
      <label class="label-title">Ngày yêu cầu</label>
      <date-picker v-model="gpb.ngayyeucau" :config="{format: 'DD/MM/YYYY HH:mm', sideBySide:true}"></date-picker>
    </div>
    <div class="col-4">
      <label class="label-title">Loại giải phẫu bệnh</label> <span style="color:red">(*)</span>
      <select class="form-control" v-model="gpb.emrDmLoaiGiaiPhauBenh.ma">
        <option value="">------</option>
        <option v-for="emrDm in emrDmLoaiGiaiPhauBenhs" :value="emrDm.ma">{{emrDm.ten}}</option>
      </select>
    </div>
    <div class="col-4">
      <label class="label-title">Dịch vụ giải phẫu bệnh</label> <span style="color:red">(*)</span>
      <input readonly data-toggle="modal" data-target="#dmGpbSelect" class="form-control" 
        :value="attr(gpb, 'emrDmGiaiPhauBenh.ten')">
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-4">
      <label class="label-title">Bác sĩ yêu cầu</label>
      <input class="form-control" v-model="gpb.bacsiyeucau">
    </div>
    <div class="col-4">
      <label class="label-title">Bác sĩ chuyên khoa</label>
      <input class="form-control" v-model="gpb.bacsichuyenkhoa">
    </div>
    <div class="col-4">
      <label class="label-title">Ngày thực hiện</label>
      <date-picker v-model="gpb.ngaythuchien" :config="{format: 'DD/MM/YYYY HH:mm', sideBySide:true}"></date-picker>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-4">
      <label class="label-title">Vị trí mẫu sinh thiết</label>
      <select class="form-control" v-model="gpb.emrDmViTriLayMau.ma">
        <option>------</option>
        <option v-for="emrDm in emrDmViTriLayMaus" :value="emrDm.ma">{{emrDm.ten}}</option>
      </select>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-12">
      <label class="label-title">Nhận xét đại thể</label>
      <textarea rows="3" class="form-control" v-model="gpb.nhanxetdaithe"></textarea>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-12">
      <label class="label-title">Nhận xét vi thể</label>
      <textarea rows="3" class="form-control" v-model="gpb.nhanxetvithe"></textarea>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-12">
      <label class="label-title">Chẩn đoán giải phẫu</label>
      <textarea rows="3" class="form-control" v-model="gpb.motachandoangiaiphau"></textarea>
    </div>
  </div>
  <div class="mt-3 mb-3">
    <button type="button" v-on:click="saveGpb()" class="btn btn-sm btn-primary">Lưu lại</button>
    <button type="button" v-on:click="viewGpbList()" class="btn btn-sm btn-secondary">Quay lại</button>    
  </div>

  <danhmuc-popup id="dmGpbSelect" name="emrDmGiaiPhauBenh" :value="gpb.emrDmGiaiPhauBenh" title="Dịch vụ giải phẫu bệnh" dm_type="DM_GIAI_PHAU_BENH"></danhmuc-popup>
</div>